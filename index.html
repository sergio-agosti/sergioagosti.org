<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>sergioagosti.org</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500&display=swap"
      rel="stylesheet"
    />
    <link href="/src/style.css" rel="stylesheet" />
    <script>
      // Initialize theme immediately to prevent flash
      const savedTheme = localStorage.getItem('theme')
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches

      if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
        document.documentElement.classList.add('dark')
      }

      // Email obfuscation - decode and set email link
      document.addEventListener('DOMContentLoaded', () => {
        const emailLink = document.getElementById('email-link')

        if (emailLink) {
          const encodedEmail = emailLink.getAttribute('data-email')
          const email = atob(encodedEmail)

          emailLink.href = `mailto:${email}`
          emailLink.textContent = email
        }

        // Theme toggle
        const themeToggle = document.getElementById('theme-toggle')
        const html = document.documentElement

        themeToggle.addEventListener('click', () => {
          html.classList.toggle('dark')
          const isDark = html.classList.contains('dark')
          localStorage.setItem('theme', isDark ? 'dark' : 'light')
        })
      })
    </script>
  </head>
  <body
    class="min-h-screen bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-50 font-mono transition-colors"
  >
    <button
      id="theme-toggle"
      class="fixed top-6 right-6 p-2 rounded-md text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all"
      aria-label="Toggle dark mode"
    >
      <svg
        id="sun-icon"
        class="w-5 h-5 hidden dark:block"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
        />
      </svg>
      <svg
        id="moon-icon"
        class="w-5 h-5 block dark:hidden"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
        />
      </svg>
    </button>
    <header class="max-w-2xl mx-auto px-6 pt-16 pb-12">
      <h1
        class="text-4xl font-light text-teal-600 dark:text-teal-400 mb-2 transition-colors duration-200"
      >
        Sergio Agosti
      </h1>
      <p class="text-gray-600 dark:text-gray-400 transition-colors duration-200">
        Open source web developer
      </p>
    </header>
    <main class="max-w-2xl mx-auto px-6 pb-16">
      <section class="space-y-4">
        <p class="text-gray-700 dark:text-gray-300 leading-relaxed transition-colors">
          I build open source websites and web applications with AI. I've been
          doing this for 15+ years.
        </p>
        <p
          class="text-gray-700 dark:text-gray-300 leading-relaxed transition-colors"
        >
          Available for projects and collaboration.
        </p>
        <p
            class="text-gray-700 dark:text-gray-300 leading-relaxed transition-colors"
        >
          <a
            id="email-link"
            href="#"
            class="text-teal-600 dark:text-teal-400 hover:underline transition-colors"
            data-email="bWVAc2VyZ2lvYWdvc3RpLm9yZw=="
          >
          </a>
        </p>
      </section>
    </main>
  </body>
</html>